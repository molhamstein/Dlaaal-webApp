module.exports=function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"DOC_ORIENTATION",function(){return n}),r.d(t,"ImageCompress",function(){return o});var n;!function(e){e[e.Up=1]="Up",e[e.Down=3]="Down",e[e.Right=6]="Right",e[e.Left=8]="Left",e[e.UpMirrored=2]="UpMirrored",e[e.DownMirrored=4]="DownMirrored",e[e.LeftMirrored=5]="LeftMirrored",e[e.RightMirrored=7]="RightMirrored",e[e.NotJpeg=-1]="NotJpeg",e[e.NotDefined=-2]="NotDefined"}(n||(n={}));var o=function(){function e(){}return e.getOrientation=function(e,t){var r=new FileReader;try{r.onload=function(e){var n=new DataView(r.result);if(65496!=n.getUint16(0,!1))return t(-2);for(var o=n.byteLength,i=2;i<o;){var a=n.getUint16(i,!1);if(i+=2,65505==a){if(1165519206!=n.getUint32(i+=2,!1))return t(-1);var u=18761==n.getUint16(i+=6,!1);i+=n.getUint32(i+4,u);var l=n.getUint16(i,u);i+=2;for(var c=0;c<l;c++)if(274==n.getUint16(i+12*c,u))return t(n.getUint16(i+12*c+8,u))}else{if(65280!=(65280&a))break;i+=n.getUint16(i,!1)}}return t(-1)},r.readAsArrayBuffer(e)}catch(e){return t(0)}},e.uploadFile=function(t,r){var n=t.createElement("input");t.setStyle(n,"display","none"),t.setProperty(n,"type","file"),t.listen(n,"click",function(e){console.log("MouseEvent:",e),console.log("Input:",e.target),e.target.value=null}),t.listen(n,"change",function(t){var n=t.target.files[0],o=new FileReader;o.onloadend=function(t){try{e.getOrientation(n,function(e){r(o.result,e)})}catch(t){console.log("ERROR "+t),r(null,null)}};try{o.readAsDataURL(n)}catch(e){console.log("ERROR - probably no file have been selected: "+e),r(null,null)}}),n.click()},e.compress=function(e,t,r,o,i){return void 0===o&&(o=50),void 0===i&&(i=50),new Promise(function(a,u){i/=100,o/=100;var l=new Image;l.onload=function(){var u,c,f=r.createElement("canvas"),d=f.getContext("2d");if(u=l.naturalWidth,c=l.naturalHeight,t==n.Right||t==n.Left){var s=u;u=c,c=s}f.width=u*o,f.height=c*o;var g=Math.PI/180;t==n.Up?d.drawImage(l,0,0,f.width,f.height):t==n.Right?(d.save(),d.rotate(90*g),d.translate(0,-f.width),d.drawImage(l,0,0,f.height,f.width),d.restore()):t==n.Left?(d.save(),d.rotate(-90*g),d.translate(-f.width,0),d.drawImage(l,0,0,f.height,f.width),d.restore()):t==n.Down?(d.save(),d.rotate(180*g),d.translate(-f.width,-f.height),d.drawImage(l,0,0,f.width,f.height),d.restore()):(console.error("Wrong orientation value"),d.drawImage(l,0,0,f.width,f.height));var h=e.substr(5,e[0].length),v=f.toDataURL(h,i);a(v)},l.src=e})},e}()}]);
//# sourceMappingURL=index.min.js.map